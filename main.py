from __future__ import print_function

import numpy as np
import pandas as pd

# ----------------------------------------------------

states = ["e", "h", "s", "v", "g", "c", "b", "x"]

A = [
    [0.00, 1.00, 0.0, 0.00, 0.00, 0.00, 0.00, 0.00],
    [0.00, 0.00, 0.70, 0.00, 0.10, 0.00, 0.00, 0.20],
    [0.00, 0.00, 0.40, 0.20, 0.15, 0.00, 0.00, 0.25],
    [0.00, 0.00, 0.00, 0.00, 0.65, 0.00, 0.00, 0.35],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.30, 0.60, 0.10],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 1.00],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 1.00],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00]
]

dfA = pd.DataFrame(A, index=states, columns=states)

B = [
    [0.00, 1.00, 0.0, 0.00, 0.00, 0.00, 0.00, 0.00],
    [0.00, 0.00, 0.70, 0.00, 0.10, 0.00, 0.00, 0.20],
    [0.00, 0.00, 0.45, 0.21, 0.10, 0.00, 0.00, 0.30],
    [0.00, 0.00, 0.00, 0.00, 0.40, 0.00, 0.00, 0.60],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.30, 0.55, 0.15],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 1.00],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 1.00],
    [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00]
]

dfB = pd.DataFrame(A, index=states, columns=states)


# visits data
v_data = [23, 56, 11, 678, 6, 95, 111, 34]
V = pd.Series(v_data, index=states)

# ----------------------------------------------------


def Vx(V, M, state):
    # get visits data
    vs = V.values

    # get visit probabilities for given state
    ps = M[state].values

    vx_value = np.dot(vs, ps)

    return vx_value

# ----------------------------------------------------


if __name__ == '__main__':
    s_value = Vx(V, dfA, 's')

    print(s_value)
